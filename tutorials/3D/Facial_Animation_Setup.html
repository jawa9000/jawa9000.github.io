<!DOCTYPE html>
<html lang="en">
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="keywords" content="maya, modeling, SDK, set driven keys, blend shapes">
		<meta name="description" content="Controlling Both Sides of The Face With Blend Shapes and Controls Tutorial">
		<meta name="author" content="Brian Immel">
		<meta name="level" content="2">
		<link rel="shortcut icon" href="../../assets/ico/favicon.ico">
		<title>Controlling Both Sides of The Face With Blend Shapes and Controls Tutorial</title>

		<!-- Bootstrap core CSS -->
		<link href="../../css/bootstrap.min.css" rel="stylesheet">

		<!-- Custom styles for this template -->
		<link href="../../css/custom.css" rel="stylesheet">
		<link href="../../css/tutorials.css" rel="stylesheet">

		<!-- jQuery -->
		<script src="../../js/jquery-2.1.0.min.js"></script>

		<!-- Bootstrap main javascript -->
		<script src="../../js/bootstrap.js"></script>
	</head>
	<body>
		<nav id="navigation" class="navbar navbar-inverse navbar-fixed-top" role="navigation"></nav>
		<script defer="defer" src="../../js/navigation.js"></script>
		<div class="container">
			<div class="row">
				<div class="col-md-2"></div>
					<article class="col-md-8">
						<h1>Controlling Both Sides of The Face With Blend Shapes and Controls</h1>
						<p class="lead">
							Controlling Both Sides of The Face With Blend Shapes and Controls
						</p>
						<p class="about">
							This tutorial extends the process and knowledge of <a href="SDK-Blendshapes.html">SDK Blend shapes</a> and talks about setting up
							head models, control objects, and blend shapes for animating both the left and right side of the face for the purpose of facial
							animation.
						</p>
						<p class="about">
							Written by Brian Immel
						</p>
					</article>
				</div>
				<div class="col-md-2"></div>
			</div>
			<div class="row">
				<div class="col-md-2"></div>
				<article class="col-md-8">
            		<section class="tutorialBox">
				        <div class="tutorialRow">
				            <div class="tutorialHeader"><a name=""></a>Brow Models</div>
				            <div class="corner"></div>
				        </div>
				        <div class="tutorialRow">
				            <div class="tutorialContent">
				                <p>
				                	Create the models for each position of the brow (four heads: up and in on both right and left sides).
				                </p>
				                <p>
				                	Name each head according to its function: brow_L_up, brow_L_in, brow_R_up, brow_R_in.
				                </p>
				            </div>
				            <div class="images">
				                <img src="../../images/tutorials/Facial_Animation_Setup/figure01.gif" id="figure01" class="imgThumbnail" title="figure01" data-toggle="modal" data-target=".figure01"/>
				            </div>
				        </div>
					</section>
					<section class="tutorialBox">
				        <div class="tutorialRow">
				            <div class="tutorialHeader"><a name=""></a>Create Brows Blend Shape</div>
				            <div class="corner"></div>
				        </div>
				        <div class="tutorialRow">
				            <div class="tutorialContent">
				                <p>
				                	Select both the left brow heads and the bridge head last. Go to Deform &gt; Create Blend Shape &gt; Option Box. Type in
				                	Brow_Left for the name of the blend shape. Go to the Advance tab, and select Parallel for the Deformation Order.
				                	This step is very important. Otherwise, your sets of blend shapes will not work. If left to Default, Maya will only
				                	calculate one blend shape node at a time once another blend shape node has reached it's limit.
				                </p>
				                <p>
				                	Select both the right brow heads and the bridge head last. Go to Deform &gt; Create Blend Shape &gt; Option Box. Type in
				                	Brow_Right for the name of the blend shape. Go to the Advance tab, and select Parallel for the Deformation Order.
				                </p>
				            </div>
				        </div>
					</section>
					<section class="tutorialBox">
				        <div class="tutorialRow">
				            <div class="tutorialHeader"><a name=""></a>Brow Control</div>
				            <div class="corner"></div>
				        </div>
				        <div class="tutorialRow">
				            <div class="tutorialContent">
				                <p>
				                	Create a locator and name it <span class="strong">brow_control</span> and then create the text Brow and scale it so that
				                	if fits nicely above the locator controls. Ungroup all the curves created within this grouping.
				                </p>
				            </div>
				        </div>
					</section>
					<section class="tutorialBox">
				        <div class="tutorialRow">
				            <div class="tutorialHeader"><a name=""></a>Parent and Freeze</div>
				            <div class="corner"></div>
				        </div>
				        <div class="tutorialRow">
				            <div class="tutorialContent">
				                <p>
				                	Parent these curves to the locator and then lock all the attributes so that they cannot be manipulated in the future.
				                </p>
				                <p>
				                	Freeze transformations and lock the location (limits of Tx 1 and ï¿½- and Ty of 1 and -1) just like we did in the
				                	<a href="SDK-Blendshapes.html">One Control, Four SDKed Blend Shapes</a> tutorial. Lock out all the attributes that we
				                	will not be using for this control object.
				                </p>
				            </div>
				            <div class="images">
				                <img src="../../images/tutorials/Facial_Animation_Setup/figure02.jpg" id="figure02" class="imgThumbnail" title="figure02" data-toggle="modal" data-target=".figure02"/>
				            </div>
				        </div>
					</section>
					<section class="tutorialBox">
				        <div class="tutorialRow">
				            <div class="tutorialHeader"><a name=""></a>Set Driven Keys</div>
				            <div class="corner"></div>
				        </div>
				        <div class="tutorialRow">
				            <div class="tutorialContent">
				                <p>
				                	Use the Set Driven Key window just like we did with the four basic visimes to control the brows. Select both the
				                	blendshape nodes and load them as the Driven in the SDK window. It may be difficult to select both blend shape nodes
				                	so use the Hypergraph. Select the bridge head and hit the f key (focus selected) to see the selected node in the
				                	Hypergraph window. Hit the Input and Output Connections button to see all the nodes connected the the bridge head. The
				                	illustration to the right shows what this may look like and which nodes to select. Note the highlighted nodes and the
				                	icons (these are blend shape nodes).
				                </p>
				            </div>
				            <div class="images">
				                <img src="../../images/tutorials/Facial_Animation_Setup/figure03.jpg" id="figure03" class="imgThumbnail" title="figure03" data-toggle="modal" data-target=".figure03"/>
				            </div>
				            <div class="images">
				                <img src="../../images/tutorials/Facial_Animation_Setup/figure04.gif" id="figure04" class="imgThumbnail" title="figure04" data-toggle="modal" data-target=".figure04"/>
				            </div>
				        </div>
					</section>
					<section class="tutorialBox">
				        <div class="tutorialRow">
				            <div class="tutorialHeader"><a name=""></a>Driving the Brows</div>
				            <div class="corner"></div>
				        </div>
				        <div class="tutorialRow">
				            <div class="tutorialContent">
				                <p>
				                	Set up the SDKs of the brow controller (driver) to the blend shapes of the brows (driven) just like we did for the
				                	mouth visimes control.
				                </p>
				                <p>
				                	TranslateY will handle the brows going up (TranslateY = 1) and the brows going in (TranslateY = -1).
				                </p>
				                <p>
				                	Basic premise:
				                </p>
				                <ul>
									<li>If Ty = 1 then Brow_Up left and right blendshapes = 1.If Ty = -1 then Brow_In left and right blendshapes = 1.</li>
									<li>
										Note: If you did not set up your blend shape nodes to with the deformation order of Parallel, you will notice what
										looks like an error or problem with the blend shape "canceling" one another out or not blending fully. You will
										need to delete history off the bridge head and rebuild the blend shape connections with the proper deformation order.
									</li>
								</ul>
								<p>
									To control which side is active (left, right or both), we need toset up TranslateX to turn the left and right sides on
									and off. To do this we need to tell TranslateX to handle the envelopes of each blendshape (Brow_Left and Brow_Right).
								</p>
								<p>
									Basic premise:
								</p>
								<ul>
									<li>If Tx = 1 then the envelope to all left heads = 0.</li>
									<li>If Tx = -1 then the envelope to all right heads = 0.</li>
								</ul>
				            </div>
				            <div class="images">
				                <img src="../../images/tutorials/Facial_Animation_Setup/figure05.gif" id="figure05" class="imgThumbnail" title="figure05" data-toggle="modal" data-target=".figure05"/>
				                <br/>
				                <span class="figure">This illustration shows the end result with all the controls working to their extremes.</span>
				            </div>
				        </div>
					</section>
					<section class="tutorialBox">
				        <div class="tutorialRow">
				            <div class="tutorialHeader"><a name=""></a>Other Blend Shapes</div>
				            <div class="corner"></div>
				        </div>
				        <div class="tutorialRow">
				            <div class="tutorialContent">
				                <p>
				                	Now that we've set up the brows, we can apply this process to the happy/sad mouths, nose sneer, eye blinks and
				                	emotional eyes (if any). Refer to illustrations below for the values, settings and grid layout to the rest of the head
				                	set ups.
				                </p>
				                <p>Enjoy!</p>
				            </div>
				            <div class="images">
				                <img src="../../images/tutorials/Facial_Animation_Setup/figure06.jpg" id="figure06" class="imgThumbnail" title="figure06" data-toggle="modal" data-target=".figure06"/>
				            </div>
				            <div class="images">
				                <img src="../../images/tutorials/Facial_Animation_Setup/figure07.jpg" id="figure07" class="imgThumbnail" title="figure07" data-toggle="modal" data-target=".figure07"/>
				            </div>
				            <div class="images">
				                <img src="../../images/tutorials/Facial_Animation_Setup/figure08.jpg" id="figure08" class="imgThumbnail" title="figure08" data-toggle="modal" data-target=".figure08"/>
				            </div>
				            <div class="images">
				                <img src="../../images/tutorials/Facial_Animation_Setup/figure09.jpg" id="figure09" class="imgThumbnail" title="figure09" data-toggle="modal" data-target=".figure09"/>
				            </div>
				            <div class="images">
				                <img src="../../images/tutorials/Facial_Animation_Setup/figure10.jpg" id="figure10" class="imgThumbnail" title="figure10" data-toggle="modal" data-target=".figure10"/>
				            </div>
				        </div>
					</section>
				</article>
				<div class="col-md-2"></div>
			</div>
		<!-- automated modal image storage-->
		<div id="modal-container"></div>
		<footer>
			<div id="copyright"></div>
		</footer>
	</body>
	<script src="../../js/getYear.js"></script>
	<script src="../../js/modal-images.js"></script>
	<script src="../../js/auto-number.js"></script>
</html>
